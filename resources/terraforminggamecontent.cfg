# Plot.
# wake up.
# meeting.
# repair probe bay breach:
#   get spacesuit
#   get hull repair kit
#   perform EVA
#   repair hole
#   repressurize bay
# Analysis
# meeting 2.
# prepare spore probes
#   read long-distance scans on target
#   choose correct loadout of moss, lichen & algae


# Part 2.
# landing
# - flashback to Earth?
#   - background on what happened there.
#   - at home? work?
# set up the camp
#   open the crates
#   begin building the underground base


# Part 3.
# What has happened?
# - cryosleep ends, more people have died.
# - maintenance, surface scouting
#   - retrieve components from crushed areas
#   - repair antenna, atmosphere analyser
# - generation ship has arrived, need to get there
#   - movement limited by the spacesuit needed for moving about
#   - another flashback?
#   - arrival at the colony
# - the end


# BUGS
# - Cryopod computer not yet showing the task list
# - can go outside in a spacesuit
# - open probe or probe hatch?
# - what happens after the probe is closed again?


[text]
# Intro
Intro=After traveling for years, the research vessel HSS Halibut is finally approaching its target. Step, an as-of-yet lifeless planet, in a distant star system. The mission of the Halibut, to begin preparing the planet for later human colonisation. The ship computer has begun the process of waking the scientists and engineers. This group includes you.

# Cryopod
cryopod=The computer display at your bedside tell your next task.
LookAtComputerDisplay_Step0=The display says, "All-crew meetup at breakfast."
LookAtComputerDisplay_Step1=The display says, "Fix the leak in the probe bay."
LookAtComputerDisplay_Step2=The display says, "Run analysis on the scan data."
LookAtComputerDisplay_Step3=The display says, "Prepare and launch the dispersal probes."
LookAtComputerDisplay_Step4=The display says, "All-crew meetup at the mess hall."
LookAtComputerDisplay_Step5=The display says, "Prepare the lander and supplies."


Description_MessRoom_Base=The crew eats and has its meetings here in the mess room.


Meeting="On with it, then. Good morning you all. Unfortunately, two of the cryopods malfunctioned. A moment of silence for Ron and Gert. We're ten weeks from reaching orbit around Step, and we need to prep our probes and gear for the seeding. The probe bay has been struck with microdebris, and has been depressurized. The thrusters need be checked over before the approach run." Commander YYYY splits the repair and preparation tasks for everyone, including you. "XXXX, you'll be patching up the probe bay and repressurizing it."

# Spacesuit

RemoveSpacesuit_BadIdea=Removing the spacesuit in the vacuum of space qualifies as a bad idea, so you don't do it.
WearSpacesuit=You put on the spacesuit and the oxygen tank.
RemovedSpacesuit=You took off the spacesuit and put it back on the rack.
BadUseOnObject=This wasn't the intended purpose.
ProbeBayAlreadyPressurised=The probe bay has already been repressurised, so pressing the button does nothing.
RepressuriseProbeBay=You hear the hiss of air as it refills the probe bay. The patch you applied appears to have fixed the only breach there was.
SealingBreach=You apply the patch and the sealant on the breach. This should keep the room pressurised.
CannotRepressuriseProbeBay=The ship computer has deduced the bay has a hull breach that hasn't been repaired yet, and refuses to repressurize the room.
NoIndoorsSpacesuit=You consider going into the hallway with the spacesuit on, but that would be just silly.
OutsideWithoutSpacesuitBadIdea=You'll need to wear a spacesuit before opening the airlock.

nameRepressurisationLever=lever
nameComputer=terminal

CannotEnterProbeBay=The door won't open. The computer screen beside it says the door is locked as long as the room is depressurized.

BreachUnfixed=A micrometeorite must've struck the bay here, leaving a puncture in the outer shell of the ship.

LookAirlockOutside=The airlock is tightly closed.

# Analysis section
ScanAnalysisResults=The analysis results from the remote scan have arrived. They describe the planet in terms of climate, hydrology, geology and atmospheric composition.
CorrectSoilAnswer="That should do it", you think.
AutomatedAnalysisNotRunning=The display says, "Long-range scan not yet complete."
AnalysisWentWrong=I don't think I got this right yet. Better try again.
CorrectWaterAnswer="That should do it", you think.
OpenScienceComputer=You sit down in the chair before the computer terminal.
CorrectAtmosphereAnswer="That should do it", you think.
CorrectClimateAnswer="That should do it", you think.

EarthWater=On Earth, 71 percent of the surface area is covered by water. The vast majority of the water on surface is stored in the oceans.
EarthSoil=The Earth crust is made of tectonic plates, which move slowly over eons. The edges of these plates are frequently seismically active, which may include volcanic activity.
EarthClimate=The ocean currents on Earth are highly important to the climate by balancing the hot and cold seasons. By contrast, continental climate has large temperature variation. The axial tilt, currently 23.5 degrees, affects how short and long polar nights and days are.
EarthAtmosphere=Earth atmosphere consists mostly of nitrogen and oxygen.

OwnAnalysisResults=You've finished writing your report. "Given the lack of a single connected ocean on the surface, all three oceans need be seeded. The lack of surface area covered in water also means that a larger part of oxygen production will be have to take place on solid ground. The geology of the world appears to suggest there has been recent tectonic activity. This limits the best options for a long-term solution. The atmosphere contains mostly non-volatile gases such as nitrogen and noble gases. Carbon dioxide is present, but not in large quantities."

locationComputerDesktop=The computer's desktop is expecting your prompt.
locationComputerLibrary=The offline reference library has several articles, most relevantly statistical information on Earth.
locationQuizAtmosphere=The atmospheric pressure is estimated to be 1.2 standard atmospheres. The composition is 60 percent nitrogen, 30 percent carbon dioxide and 10 percent other gases, primarily noble gases. This means 1. the atmosphere is not breathable, 2. the atmosphere is volatile, or 3. the atmospheric pressure is crushing.
locationQuizWater=There are no true oceans on Step but three massive lakes that are not connected to one another; see Terran Caspian Sea. These amount to 20 percent of the total planet surface. This does not mean that 1. seeding all lakes is unnecessary, 2. oxygen will be produced from CO2 primarily in seas, or 3. Step is a drier planet than Earth.
locationSoilQuiz=There are traces of recent volcanic activity in several locations. There are also mountain ranges that appear to have formed as a result of colliding tectonic plates. This means long-term zero-maintenance bases should be placed in 1. near these locations for available geothermal energy, 2. away for security, or 3. near rivers for hydrothermal energy.
locationQuizClimate=What will the climate be like on Step? 1. Temperate, 2. Large difference between cold and warm seasons, 3. Nearly constant.


TakeSealant=You take down the sealant kit from the shelf.
GoOutsideAirlock=You go inside the airlock, wait as the air is removed before stepping outside to the vacuum of space.
LookOutsideAirlock=Arrows point out the location of the airlock from all directions. Inside, you can see electric lights shining.
LookRepressurisationLever=This lever controls the pressurisation of the probe bay.
GoOutsideProbeBay=Holding on to a rope and the ship's body, you make your way around the ship towards the probe bay.

WrongClimateAnswer="That should do it", you think.
WrongAtmosphereAnswer="That should do it", you think.
WrongSoilAnswer="That should do it", you think.
WrongWaterAnswer="That should do it", you think.
OpenComputer=You wake up the computer from its sleep mode.
LookOutsideProbeBay=The probe bay is "up" from here, if such directions mean anything in near zero G conditions.
LookComputer=This is the main terminal for analysing data from the probes. The actual computer is deep within the ship's body.

##

LookProbeWires=The probe has a large number of wires, but they're conveniently colour-coded.
locationProbe=This probe, on the lowest shelf, is the easiest to access.
LookProbe=The probe is a repurposed cruise missile, except that the several warheads will be replaced with biological material to introduce Earth life to Step.
LookProbeHatch=This hatch holds underneath wires, screws, plates, and most importantly, the payload.
LookPayloadShelf=The various probe payloads are on these temperature-controlled vacuum-protected containers.
LookProbeScrew=The room for the probe payload is held in place by these screws.
LookProbeScrewCarried=You'll need to put these screws back in the probe.


nameWaterWrong2=2
nameEarthSoil=soil
nameWaterCorrect=3

nameEarthAtmosphere=atmosphere
nameAtmosphereCorrect=1
nameSoilWrong2=3
nameAtmosphereWrong1=2
nameClimateWrong2=1
nameSoilWrong1=1
nameEarthWater=water
nameWaterWrong1=1
nameClimateWrong1=3
nameLibrary=references
nameEarthClimate=climate
nameAtmosphereWrong2=3
nameSoilCorrect=2
nameClimateCorrect=2

nameProbeWires=p. wiring
nameProbeHatch=p. hatch
namePayloadShelf=shelf
nameProbe=probe
nameProbeScrew=screw

### LOCATIONS, CHAPTER 1
locationHallwayDesc=This hallway connects different parts of the ship.
locationCryobayDesc=The cryopods the crew slept in for the duration of the trip are here. Two pods remain closed.
locationStorageBay=The various tools, food and most everything else are stored here.
locationProbeBayDesc=The dispersal probes and their payloads are here.
locationScienceBay=The science bay has the main computer terminal for running analyses.
locationCryopodDesc=This is your cryopod. The last wafts of the cold of your sleep still linger here.
locationMesshallDesc=The mess hall is used for eating, but also for meetings.
locationAirlockDesc=The room has an airlock at the side. The spacesuits not in use hang in the rack.
locationOutsideProbeBay=The probe bay lies under the loading doors.
locationOutsideAirlock=You're outside the airlock.

### ITEMS, CHAPTER 1
nameHullBreach=breach
nameSpacesuit=spacesuit
nameSealant=sealant

nameCommpad=commpad
LookCommpad=This is your standard-issue commpad, using the onboard network for communications. So far, you've used it just for reading.
TakeCommpad=As you get up from the pod, you pick up your commpad and strap it on your wrist.


nameAAReport=autom.report
nameMenuStartQuiz=analyse
AnalysisAlreadyDone=You've already analysed the results.
PromptToReadAnalysisFirst=You don't know what the analysis results were yet.

ProbeOpeningGuide="Opening the repurposed cruise missile model H4K Mk 2. Start by opening the hatch, then unplugging the wiring under the hatch. Finally, remove the screws that holds the room for the payload. To close the missile back again, repeat the same steps in reverse.

FailedOpen_Step1=The probe hatch is already opened.
FailedOpen_Step2=The wires are already detached.
FailedOpen_Step3=Not the time to unscrew them.
OpenedProbe_Step1=You opened the hatch.
OpenedProbe_Step2=You detached the wires.
OpenedProbe_Step3=You undid the screws.

FailedClose_Step1=Not yet the time to close the hatch.
FailedClose_Step2=Not yet the time to reattach the wires.
FailedClose_Step3=Not yet the time to do the screws again.
CanCloseProbe_Step1=You close the hatch on the probe. It's now ready for launch.
CanCloseProbe_Step2=You reattach the wires.
CanCloseProbe_Step3=You redo the screws.
OpenDispersalPacks_AlreadyDone=TODO ?
OpenDispersalPacks_TooEarly=TODO ?
CannotProbeToLaunch=TODO ?
CannotReopen_Probe=The probe is already loaded, there's no reason to reopen it.

ProbeReady=The probe is now in full working order. You repeat the process for the remaining probes.

nameBiodispersalPack=disp'l pack
LoadBiodispersalPack=You securely place the dispersal pack inside the probe.
LookBiodispersalPack=The biological dispersal pack contains an assortment of moss, lichen, algae and cyanobacteria.
TakeBiodispersalPack=You pick up the dispersal pack.


LookOpenPayloadShelf=The shelf with the probe payloads is now empty.
CannotCloseProbeYet_Step2=You mustn't reattach the wires yet.
CannotCloseProbeAgain_Step2=The wires are already attached.
CannotCloseProbeYet_Step1=You can't close the hatch yet.
CannotCloseProbeAgain_Step3=The screw is already in.
ShelfAlreadyOpen=You've already taken down the equipment from the shelf.
CannotCloseClosedHatch=The hatch is already closed.
OpenPayloadShelf=You look at the shelf with the probe payloads and take down a container with a biodispersal pack.
CannotCloseProbeYet_Step3=You shouldn't put in the screw yet.


### End-of-chapter narrative
Landing_1=With the probes loaded and ready to disperse their payload of cyanobacteria, algae, lichen and moss around the planet, the trip became waiting for the arrival to Step's orbit.
Landing_2=Other crewmembers had been preparing a remote imaging survey on the planet and the geological composition in an effort to find a location for the next step of the expedition: an underground base for waiting out for the generation ship.
Landing_3=The HSS Halibut had been built piecemeal on the Earth orbit, but it was capable of landing exactly once. It would make its splash in the larger ocean on the planet.
Landing_4=As the ship entered the atmosphere and there was little for you to do but sit down tight, your thoughts went back to Earth, ZZZ years ago by your own reckoning. Cryosleep can make a hash of timespans.
Landing_LAST=End of chapter 1.

EntranceMesshall_Probelaunch=You inform the commander that the probes are ready to be launched.

# These are prompts shown on top of the item list, depending on what is to be shown.
SelectObject=
SelectVerb=
SelectTarget=Use on...

[location_homech1]
gfx=../resources/gfx/terraforming/site_cryopod.png
description=locationCryopodDesc
script_Up_Go=GoUpCryobay
entrancescript=StartGame

[location_CryoBay]
gfx=../resources/gfx/terraforming/site_cryobay.png
description=locationCryobayDesc
script_East_Go=GoHallway

[item_Commpad]
name=nameCommpad
location=_LOST
script_Look=LookCommpad
script_Examine=ReadTask



[location_Hallway]
gfx=../resources/gfx/terraforming/site_orbithallway.png
description=locationHallwayDesc
script_West_Go=GoCryobay
script_East_Go=GoMesshall
script_North_Go=GoAirlock
script_South_Go=GoProbeBay

[location_Airlock]
gfx=../resources/gfx/terraforming/site_airlock.png
description=locationAirlockDesc
script_South_Go=GoHallwayFromAirlock
script_Outside_Go=GoOutsideAirlockFromInside

[location_ProbeBay]
gfx=../resources/gfx/terraforming/site_probebay.png
description=locationProbeBayDesc
script_North_Go=GoHallway
entrancescript=EntranceProbeBay

[location_Messhall]
gfx=../resources/gfx/terraforming/site_messhall.png
description=locationMesshallDesc
script_West_Go=GoHallway
script_East_Go=GoScienceBay
script_North_Go=GoStorageBay
entrancescript=EntranceMesshall

[location_StorageBay]
gfx=../resources/gfx/terraforming/site_storagebay.png
description=locationStorageBay
script_South_Go=GoMesshall

[location_ScienceBay]
gfx=../resources/gfx/terraforming/site_sciencebay.png
description=locationScienceBay
script_West_Go=GoMesshall

[location_OutsideAirlock]
gfx=../resources/gfx/terraforming/site_outsideairlock.png
description=locationOutsideAirlock
script_Inside_Go=GoAirlock
script_Inside_Look=LookAirlockOutside
script_Up_Go=GoOutsideProbeBay
script_Up_Look=LookOutsideProbeBay

[location_OutsideProbeBay]
gfx=../resources/gfx/terraforming/site_outsideprobebay_leaking.png
description=locationOutsideProbeBay
script_Down_Go=GoOutsideAirlock
script_Down_Look=LookOutsideAirlock


####
# Computer

[location_ComputerMain]
gfx=../resources/gfx/terraforming/site_computerdesktop.png
description=locationComputerDesktop
script_Back_Go=GoScienceBay

[location_ComputerLibrary]
gfx=../resources/gfx/terraforming/site_computerdesktop.png
description=locationComputerLibrary
script_Back_Go=GoComputerMain



#[location_StartAnalysis]
#gfx=../resources/gfx/terraforming/site_computerdesktop.png
#description=locationStartAnalysis
#script_Back_Go=GoComputerMain

[location_QuizAtmosphere]
gfx=../resources/gfx/terraforming/site_computerdesktop.png
description=locationQuizAtmosphere
script_Back_Go=GoComputerMain

[location_QuizWater]
gfx=../resources/gfx/terraforming/site_computerdesktop.png
description=locationQuizWater
script_Back_Go=GoComputerMain

[location_QuizClimate]
gfx=../resources/gfx/terraforming/site_computerdesktop.png
description=locationQuizClimate
script_Back_Go=GoComputerMain

[location_QuizSoil]
gfx=../resources/gfx/terraforming/site_computerdesktop.png
description=locationSoilQuiz
script_Back_Go=GoComputerMain

[location_Probe]
gfx=../resources/gfx/terraforming/site_probebay.png
description=locationProbe
script_Back_Go=GoProbeBay

###### ITEMS
#### PATCHWORK, Quest 1

[item_Spacesuit_wall]
name=nameSpacesuit
location=Airlock
script_Wear=WearSpacesuit

[item_RepressurisationLever]
name=nameRepressurisationLever
location=Hallway
script_Pull=PullRepressurisationLever
script_Look=LookRepressurisationLever

[item_Spacesuit_worn]
name=nameSpacesuit
location=_LOST
script_Remove=RemoveSpacesuit

[item_Sealant_shelf]
name=nameSealant
location=StorageBay
script_Take=TakeSealant

[item_Sealant]
name=nameSealant
location=_LOST
script_Use=UseSealantOn


[item_HullBreach]
name=nameHullBreach
location=OutsideProbeBay
script_Look=LookBreach

#### ANALYSIS, Quest 2
[item_Computer]
name=nameComputer
location=ScienceBay
script_Look=LookComputer
script_Examine=OpenScienceComputer

[item_MenuLibrary]
name=nameLibrary
location=ComputerMain
script_Choose=GoComputerLibrary

[item_MenuAutomatedAnalysisReport]
name=nameAAReport
location=ComputerMain
script_Choose=DisplayAnalysisResults

[item_MenuAnalysisQuiz]
name=nameMenuStartQuiz
location=ComputerMain
script_Choose=ChooseStartQuiz


[item_EarthWater]
name=nameEarthWater
location=ComputerLibrary
script_Choose=ReadOnEarthWater

[item_EarthAtmosphere]
name=nameEarthAtmosphere
location=ComputerLibrary
script_Choose=ReadOnEarthAtmosphere

[item_EarthClimate]
name=nameEarthClimate
location=ComputerLibrary
script_Choose=ReadOnEarthClimate

[item_EarthSoil]
name=nameEarthSoil
location=ComputerLibrary
script_Choose=ReadOnEarthSoil

### Soil
[item_QuizSoilCorrect]
name=nameSoilCorrect
location=QuizSoil
script_Choose=CorrectSoilAnswer

[item_QuizSoilWrong1]
name=nameSoilWrong1
location=QuizSoil
script_Choose=WrongSoilAnswer

[item_QuizSoilWrong2]
name=nameSoilWrong2
location=QuizSoil
script_Choose=WrongSoilAnswer

### Water
[item_QuizWaterCorrect]
name=nameWaterCorrect
location=QuizWater
script_Choose=CorrectWaterAnswer

[item_QuizWaterWrong1]
name=nameWaterWrong1
location=QuizWater
script_Choose=WrongWaterAnswer

[item_QuizWaterWrong2]
name=nameWaterWrong2
location=QuizWater
script_Choose=WrongWaterAnswer

### Climate
[item_QuizClimateCorrect]
name=nameClimateCorrect
location=QuizClimate
script_Choose=CorrectClimateAnswer

[item_QuizClimateWrong1]
name=nameClimateWrong1
location=QuizClimate
script_Choose=WrongClimateAnswer

[item_QuizClimateWrong2]
name=nameClimateWrong2
location=QuizClimate
script_Choose=WrongClimateAnswer

### Atmosphere
[item_QuizAtmosphereCorrect]
name=nameAtmosphereCorrect
location=QuizAtmosphere
script_Choose=CorrectAtmosphereAnswer

[item_QuizAtmosphereWrong1]
name=nameAtmosphereWrong1
location=QuizAtmosphere
script_Choose=WrongAtmosphereAnswer

[item_QuizAtmosphereWrong2]
name=nameAtmosphereWrong2
location=QuizAtmosphere
script_Choose=WrongAtmosphereAnswer


#### Loading up the probe, Quest 3
[item_Probe]
name=nameProbe
location=ProbeBay
script_Look=LookProbe
script_Open=OpenProbe

[item_ProbeHatch]
name=nameProbeHatch
location=Probe
script_Look=LookProbeHatch
script_Open=OpenProbe_Step1
script_Close=CloseProbe_Step1

[item_ProbeWires_Attached]
name=nameProbeWires
location=_LOST
script_Look=LookProbeWires
script_Remove=OpenProbe_Step2

[item_ProbeWires_Detached]
name=nameProbeWires
location=_LOST
script_Look=LookProbeWires
script_Connect=CloseProbe_Step2

[item_ProbeScrew_Closed]
name=nameProbeScrew
location=_LOST
script_Look=LookProbeScrew
script_Unscrew=OpenProbe_Step3

[item_ProbeScrew_Inventory]
name=nameProbeScrew
location=_LOST
script_Look=LookProbeScrewCarried
script_Use=CloseProbe_Step3

[item_ProbeZoomed]
name=nameProbe
location=Probe
script_Look=LookProbe




[item_PayloadShelf]
name=namePayloadShelf
location=ProbeBay
script_Look=LookPayloadShelf
script_Open=OpenPayloadShelf

[item_BioDispersalPack_store]
name=nameBiodispersalPack
location=_LOST
script_Take=TakeBiodispersalPack
script_Look=LookBiodispersalPack

[item_BioDispersalPack]
name=nameBiodispersalPack
location=_LOST
script_Look=LookBiodispersalPack
script_Use=LoadBiodispersalPack


[general]
starting_location=homech1
chapter_suffix=Chapter1
other_chapters=terraforminggamecontent_chapter2.cfg,terraforminggamecontent_chapter3.cfg
default_entry_script=DefaultEntryScript

[in_files]
scripts=../resources/terraforminggamescripts.script

ui_view = ../resources/general/gadventure_ui.png
title = ../resources/general/terraforming/terraformingtitle.png
sprites = ../resources/general/terraforming/terraforming_sprites.png
font = ../resources/general/gadventure_text.png


[out_files]
script_output = ../src/pregen/scripts.asm_pregen
items_ROM_output = ../src/pregen/items_rom.asm_pregen
items_RAM_output = ../src/pregen/items_ram.asm_pregen
palette_output = ../src/pregen/palette.asm_pregen
tilegfx_output = ../src/pregen/tilegfx.asm_pregen
texts_output = ../src/pregen/texts.asm_pregen
directions_output = ../src/pregen/directions.asm_pregen
locations_output = ../src/pregen/locations.asm_pregen
constants_output = ../src/pregen/constants.asm_pregen
commands_output = ../src/pregen/commands.asm_pregen
huffdict_output = ../src/incbins/textdictionary.huffarc
gfxview_output = ../src/pregen/gfxview.asm_pregen
chapterheader_output = ../src/pregen/chapterconstants.asm_pregen
ui_view_base = ../src/incbins/gfx_ui
title_base = ../src/incbins/gfx_title
sprites =../src/incbins/gfx_sprites.bin
font=../src/incbins/gfx_chars.bin