# Part 2.
# landing
# - flashback to Earth?
#   - background on what happened there.
#   - at home? work?
# set up the camp
#   open the crates
#   begin building the underground base
#   meanwhile, the player is at the shore collecting samples.


### Chapter 2 outline.
# 1. Sitting down in the lander. Intro to the flashback.
# 2. Flashback starts.
# Location: Earth.
# Leaving to work in the institute.
# 3. Take a shower, eat a quick breakfast, pick up stuff.
# 4. At office: receiving a notice that the application had been approved.
# 5. ???
# Flashback ends.
# 6. Landing scene.
# 7. Dialogue scene.
# 8. Stay within ship to reacclimate to gravity during the shore approach. TIMELAPSE.
# 7. Exit ship, get the task of scouting key areas. Collect samples everywhere.
# 8. Return to ship. Go analyse it in science lab.
# 9. Hill base excavation should happen outside the camera.
# 10. Install the antenna.
# 11. Prepare to go to cryosleep yet again.




[text]


##### Part 1 of the chapter

ChapterIntro_LT=The HSS Halibut had arrived on the orbit around Step. The crew had repaired the damage the ship had taken during its interstellar voyage. There was no time for rest, as the crew made further analysis on the solar system that was to be their last home. Once the probes' launch paths had been calculated and recalculated for best expected results, the probes were launched to germinate the planet with Terran life. Cyanobacteria to produce oxygen and bind nitrogen from the atmosphere, moss and lichen to begin breaking down rocks and stones for nutrients and also create the beginnings of a biosphere on land. This would be a slow start, but maybe one day in the distant future, humans could walk on the planet without oxygen masks.
ChapterIntro2_LT=Now, you are making your way to the planet, alongside everyone else. The heatshield of Halibut will protect the ship during the landing, but it will still be a tough landing in the water. Knowing there's a nuclear reactor coming down with you doesn't make it much easier to relax.

ReceivePhonecall_LT1=Your phone rings.


StartFlashback=The photo is picture of Earth, taken from space. It's all but guaranteed you will not see your home again in this lifetime. As the atmosphere's forces on the ship become more and more pronounced, you focus your thoughts on a day you had back on Earth. It's not like you can do anything; piloting the ship is not in your wheelhouse.

LookUpHome=You look up from your seat. The ceiling lights are running on small batteries, as the main power source has been put offline for the duration of the landing.
LookBreakfast=Your breakfast is the usual -- a granola bar.
LookMirror=The face looking you back in the mirror is your own.
LookPhone=Your phone isn't the newest model but a sensible budget-priced one. It gets the job done.
LookShower=The showerhead is getting messy again. You'll need to clean it one day, but not right now.
TakeBreakfast=You take your breakfast.
TakePhone=You pick up your phone.
TakeShower=You take a quick shower.
PutOnWorkClothes=You put on your work clothes -- clean and pressed.
DressFirst=You should dress for work before leaving.
EatBreakfast=You'll eat the bar on the train as you wait for the ride to end.
LeaveToWork=You exit your apartment and close the door behind you. The heat outside your apartment is again overbearing, and the sun has yet to rise. You make your way to the train stop quickly and jump aboard the train.
LookAtDoor=That's the apartment door, with extra locks.
RememberBreakfast=Don't forget your breakfast before you leave.
RememberPhone=You remember you need to pick up your phone before leaving.
ShowerFirst=The nightly heatwave has again left you sweaty, so you should take a shower before dressing up.

locationBathroom=This is your bathroom. A shower, a washing machine and a water tap have been enough for you.
locationBedroom=This is your bedroom, with a single bed.
locationCommute=You've taken this train already for several years. There's been talk about changing the time tables for the line, but you hope it won't be happening.
locationOffice=You've worked at this desk for years now.
nameBreakfast=cereal bar
nameClothes=clothes
nameCommuteStopChart=stop chart
nameMirror=mirror
namePhone=phone
nameShower=shower

##### Part 2 of the chapter
EndFlashback_LT=The landing in the ocean is happening soon. So many should-be's. The heatshield should be released to avoid holding too much weight. The ship should be able to hold water and float.

FallingDown_LT=You feel through your seat as the ship's thrusters come to life. The remainder of the solid rocket fuel onboard the ship would be used in the landing. After waiting a few minutes, you feel the ship jostle slightly. Those must have been the massive parachutes the ship deployed to slow down its descent.
SplashDownCountdown_LT=The speakers come to life as the commander calls out, "Take splashdown positions! Splashdown in five, four, three, two, one ---"
SplashDown_LT=The ship smashes into the sea with a massive splash. As it briefly plunges below the surface, its curved bottom redirecting the momentum to turn the ship away from diving into the unknown depths of the sea. A spaceship that would have to be able to make a dive into water - what a unique design task that must have been.
ReachingSurface_LT=As you feel the G-forces settle, the ship descends into silence. The ship's walls aren't creaking from the pressure of deep sea, and despite basically diving in a place you don't know what the seabed has and how deep, you haven't crashed into the seabed either. What feels like hours but must've been mere minutes, the commander addresses everyone again. "Our approach was successful, we're now floating on the sea." Everyone on the ship starts applauding and cheering.

TimelapseGoShore=As the ship propels itself towards the shore, you and the crew acclimate to being on a planet again. After a few days of stumbling, not made any easier by the rocking ship, the ship lands on firm ground.


locationComputerLab=This is the science bay
nameAnalyser=analyser
nameComputerCh2=terminal
nameFlatsSample=sample F
nameHillsideSample=sample H
nameShoreSample=sample S
nameAbe=Abe

ExamineAbe=Abe's one of the science team. His expertise is geology.
LookAbe=Abe's one of the science team.
NoMoreAssignments="I'll check your results later. Go look at the base they've dug at the hill."
ReminderOfTheAssignment="Please try to hurry with the samples."
SampleAssignment_LT="Could you get three rock samples? Sand here from the shore, a rock from the plains and some of the bedrock from the nearby hill?"


AnalyseFlatsSample=The pebble has been eroded to roundish shape, suggesting it has spent a long time underwater.
AnalyseHillsideSample=The bedrock appears to be granite like on Earth.
AnalyseShoreSample=The sand appears to be well-suited to be used in concrete.
ExamineAnalyser=The analyser is a functional multitool. It has more functions than any single person needs, and a manual that was thankfully digital.
LookAnalyser=The analyser is a contraption with many slots, buttons, bells and whistles.
LookFlatsSample=The rock from the flats is yellow with darker streaks.
LookHillsideSample=The bedrock from the hillside is solid red-hued rock.
LookShoreSample=The sand from the shore is yellow.
NonsensicalUse=That doesn't make sense.
SampleAnalysisFinished="Thanks!" Abe calls after you.
AlreadyTakenPebbleSample=You already took a sample from here.
AlreadyTakenSample=You already took a sample from here.
AlreadyTakenSandSample=You already took a sample from here.
ExaminePickaxe=This pickaxe isn't a big one, suitable to be swung with one hand.
ExamineSand=The sand beach stretches to the east.
LookBedrock=The bedrock looks like very sturdy granite.
LookFlatsPebbles=The plains are filled with small round pebbles. Maybe this is a seasonal floodplain?
LookPickaxe=It's a one-handed pickaxe for breaking small pieces of rock.
LookSand=The sand is yellow and of uniform grain size.
TakeFlatsSample=You kneel and pick up a pebble that looks like all the other rocks here.
TakeHillsideSample=You find a suitable spot and chisel away a small piece of the bedrock with your pickaxe.
TakeShoreSample=You scoop a small amount of sand in a sample container you always carry with you.
TakePickaxe=You pick up the pickaxe from the shelf.

locationHillside=You are at a base of a hill, which is made primarily of solid rock.
locationHillsideBase=You are at a base of a hill. The crew has started excavating a hole into the bedrock.
locationInsideBase=You're inside the still incomplete base. What has been done so far, has been made airtight so that oxygen masks are not needed inside the base.
locationLanderSeat=You're sitting in your seat in the ship.
locationShore=You're at the barren shore of the ocean.
locationShoreAirlock=You're in Halibut's airlock.
locationShoreApproach=The Halibut is approaching the shore.
locationTransmitter=You're on top of the hill that contains the expedition's base.
locationMap=You look at the map of the area, made when you were still on the orbit.
locationDaveDesc=Dave looks over to you from his seat.
nameAntenna=antenna
nameEarthPhoto=photo
nameMapFlats=flats
nameMapHillside=hillside
nameMapShore=shore
nameRover=rover
nameSocket1=red socket
nameSocket2=green socket
nameSocket3=blue socket
nameSocket4=gray socket
nameWire1=red wire
nameWire2=blue wire
nameWire3=green wire
nameWire4=gray wire

nameBedrock=bedrock
namePebbles=pebbles
namePickaxe=pickaxe
nameSand=sand

AntennaAssignment=The commander pulls you aside as you enter the base. "Everyone here is setting up the base. We need you to go to the transmitter we placed on the hill and connect the antenna here to it. Lana had to do something to it first, but it should be ready for installation now."
AntennaNowFixed=The antenna should now be fixed.
ConnectWire1=You connected the red wire to the socket.
ConnectWire2=You connected the green wire to the socket.
ConnectWire3=You connected the blue wire to the socket.
ConnectWire4=You connected the gray wire to the socket.
ExamineAntenna=The antenna is built to last without breaking for a very long time. There's a note from Lana: "I had to make fixes to the antenna. The new connection wires are: red wire to red socket, green wire to blue socket, blue wire to green socket, gray wire to gray wire."
LookAntenna=The antenna meant to communicate with the generation ship when it arrives.
LookSocket1=This is the red socket. Every one of the four wires look like they could connect to this.
LookSocket2=This is the green socket. Every one of the four wires look like they could connect to this.
LookSocket3=This is the blue socket. Every one of the four wires look like they could connect to this.
LookSocket4=This is the gray socket. Every one of the four wires look like they could connect to this.
LookStopChart=This tells the stops the train will stop. You've already memorized it, ages ago.
PutAntennaDown=You put the antenna down on the ground.
ReadStopChart1=You read the name of next stop. It's a small one, where more people get on in the morning than get off. You take out your granola bar and eat it.
ReadStopChart2=You read the name of next stop. This is a bigger stop. The air outside is already getting hot.
ReadStopChart3=You read the name of next stop. These past summers have been unbearable - either persistently hot or persistently wet. Or both.
ReadStopChart4=You read the name of next stop. As the train stops, you step off the train and walk the rest of the trip to your office.
TakeAntenna=You pick up the antenna.


AntennaStillBroken=The antenna is still broken.
EnterAirlock=You enter the airlock, which quickly replaces the atmosphere.
GetUpFromLanderSeat=With great effort, you open the seatbelt on your seat. The prolonged time in low gravity has left your coordination and balance in shambles, and it will be days before you're anywhere close to normal.
LeaveAirlock=The air in the airlock is quickly replaced with the air outside. You step through the opening doorway.
nameDave=Dave
nameDaveTopicEarth=Earth
nameDaveTopicMood=mood
nameDaveTopicCrew=crew
nameDaveTopicStep=Step
nameLana=Lana
nameLoader=loader

ExamineLana=Svetlana looks frustrated as she's operating on the machinery in the corner.
ExamineLoader=Like everything else here, the loader is an electric one.
LookDaveShip=Dave's sitting in a chair beside you. Like you, he's on the science team.
LookLana=Svetlana's one of the engineers aboard the Halibut.
LookLoader=The loader exoskeleton is crucial to setting up the base on Step.
TalkAboutEarth="None of us had reason to stay there. That's why we were chosen to this mission."
TalkAboutStep="Finally getting solid ground under my feet -- even if only for a while. I really look forward to it."
TalkAboutMood="Better get our feet and hands working again, we won't have much time to waste."
TalkAboutCrew="Good people all around, all of us. A pity about Ron and Gert. And the next cryosleep may cut our numbers further."
TalkLana=You approach Lana, but she cuts you off at the start. "Sorry, but I'm really busy right now."
TalkToDaveShip=Dave looks over to you from his seat.
WearLoader=The loaders are restricted to just the engineering team's use.

EndChapter2=The base is now built. You go in cryosleep to wait for the arrival of the generation ship, which will trigger the process to reawaken the crew of Halibut. Or such is the plan.
PromptToStartChapter3=Please start chapter 3 in the main menu.


# These are prompts shown on top of the item list, depending on what is to be shown.
SelectObject=
SelectVerb=
SelectTarget=Use on...

[location_landerseat]
gfx=../resources/gfx/terraforming_ch2/site_landerseat.png
description=locationLanderSeat
script_Up_Look=LookUpHome
entrancescript=StartChapter2

[item_EarthPhoto]
name=nameEarthPhoto
location=landerseat
script_Look=StartFlashback

[location_Bedroom]
gfx=../resources/gfx/terraforming_ch2/site_bedroom.png
description=locationBedroom
script_North_Go=GoLivingroom

[item_Clothes]
name=nameClothes
location=Bedroom
script_Wear=PutOnWorkClothes

[item_Phone]
name=namePhone
location=Bedroom
script_Take=TakePhone
script_Look=LookPhone

[item_PhoneInventory]
name=namePhone
location=_LOST
script_Look=LookPhone

[location_Livingroom]
gfx=../resources/gfx/terraforming_ch2/site_livingroom.png
description=locationBedroom
script_East_Go=GoBathroom
script_South_Go=GoBedroom
script_West_Go=CommuteToWork
script_West_Look=LookAtDoor

[item_Breakfast]
name=nameBreakfast
location=Livingroom
script_Take=TakeBreakfast
script_Look=LookBreakfast

[item_BreakfastInventory]
name=nameBreakfast
location=_LOST
script_Look=LookBreakfast
script_Eat=EatBreakfast

[location_Bathroom]
gfx=../resources/gfx/terraforming_ch2/site_bathroom.png
description=locationBathroom
script_West_Go=GoLivingroom

[item_Shower]
name=nameShower
location=Bathroom
script_Take=TakeShower
script_Look=LookShower

[item_Mirror]
name=nameMirror
location=Bathroom
script_Look=LookMirror

[location_Commute]
gfx=../resources/gfx/terraforming_ch2/site_commute.png
description=locationCommute

[item_Stopchart]
name=nameCommuteStopChart
location=Commute
script_Look=LookStopChart
script_Examine=ExamineStopChart

[location_Office]
gfx=../resources/gfx/terraforming_ch2/site_office.png
description=locationOffice
entrancescript=ReceivePhonecall

## FLASHBACK ENDS

[location_OceanLanderSeat]
gfx=../resources/gfx/terraforming_ch2/site_landerseat.png
description=locationLanderSeat
script_Up_Go=GetUpFromLanderSeat

# Get to shore. How?
[location_ShoreApproach]
gfx=../resources/gfx/terraforming_ch2/site_shoreapproach.png
description=locationShoreApproach

[item_daveship]
name=nameDave
location=ShoreApproach
script_Talk=TalkToDaveShip
script_Look=LookDaveShip

[location_DaveShip]
gfx=../resources/gfx/terraforming_ch2/site_shoreapproach.png
description=locationDaveDesc
script_Back_Go=GoShoreApproach

[item_davetopicmood]
name=nameDaveTopicMood
location=DaveShip
script_Talk about=TalkAboutMood

[item_davetopicearth]
name=nameDaveTopicEarth
location=DaveShip
script_Talk about=TalkAboutEarth

[item_davetopiccrew]
name=nameDaveTopicCrew
location=DaveShip
script_Talk about=TalkAboutCrew

[item_davetopicstep]
name=nameDaveTopicStep
location=DaveShip
script_Talk about=TalkAboutStep

[location_ShoreAirlock]
gfx=../resources/gfx/terraforming_ch2/site_shoreairlock.png
description=locationShoreAirlock
script_North_Go=LeaveAirlock
script_East_Go=GoComputerLab

[item_loader]
name=nameLoader
location=Shore
script_Look=LookLoader
script_Wear=WearLoader
script_Examine=ExamineLoader

[item_Lana]
name=nameLana
location=ShoreAirlock
script_Talk=TalkLana
script_Look=LookLana
script_Examine=ExamineLana

[location_Shore]
gfx=../resources/gfx/terraforming_ch2/site_shore.png
description=locationShore
script_South_Go=EnterAirlock


#####
# Analysis quest

[location_ComputerLab]
gfx=../resources/gfx/terraforming/site_sciencebay.png
description=locationComputerLab
script_West_Go=LeaveComputerLab

[item_ComputerCh2]
name=nameComputerCh2
location=ComputerLab
script_Examine=StartComputer

[item_SampleAnalyser]
name=nameAnalyser
location=ComputerLab
script_Examine=ExamineAnalyser
script_Look=LookAnalyser


[item_Pebbles]
name=namePebbles
location=_LOST
script_Take=TakeFlatsSample
script_Look=LookFlatsPebbles

[item_Bedrock]
name=nameBedrock
location=Hillside
script_Look=LookBedrock

[item_Pickaxe]
name=namePickaxe
location=ShoreAirlock
script_Take=TakePickaxe
script_Look=LookPickaxe
script_Examine=ExaminePickaxe

[item_Pickaxe_inventory]
name=namePickaxe
location=_LOST
script_Use=UsePickaxe
script_Look=LookPickaxe
script_Examine=ExaminePickaxe

[item_Sand]
name=nameSand
location=Shore
script_Take=TakeSand
script_Look=LookSand
script_Examine=ExamineSand

[item_FlatsSample]
name=nameFlatsSample
location=_LOST
script_Use=UseFlatsSample
script_Look=LookFlatsSample

[item_HillsideSample]
name=nameHillsideSample
location=_LOST
script_Use=UseHillsideSample
script_Look=LookHillsideSample

[item_ShoreSample]
name=nameShoreSample
location=_LOST
script_Use=UseShoreSample
script_Look=LookShoreSample

[item_Abe]
name=nameAbe
location=ComputerLab
script_Talk=TalkToAbe
script_Look=LookAbe
script_Examine=ExamineAbe

### TODO: What to do in the quest next?


[location_Map]
gfx=../resources/gfx/terraforming_ch2/site_map.png
description=locationMap

[item_MapShore]
name=nameMapShore
location=Map
script_Go=RoverToShore

[item_MapHillside]
name=nameMapHillside
location=Map
script_Go=RoverToHillside

[item_MapFlats]
name=nameMapFlats
location=Map
script_Go=RoverToFlats

[item_RoverShore]
name=nameRover
location=Shore
script_Get On=EnterShoreRover

[location_Hillside]
gfx=../resources/gfx/terraforming_ch2/site_hillside.png
description=locationHillside

[item_RoverHillside]
name=nameRover
location=Hillside
script_Get On=EnterHillsideRover

[location_Flats]
gfx=../resources/gfx/terraforming_ch2/site_flats.png
description=locationHillside

[item_RoverFlats]
name=nameRover
location=Flats
script_Get on=EnterFlatsRover

## Okay, we've found the base location. How to handle digging it?
## Will happen off-camera. Player is left at the flats to work. Take freshwater
## samples.

[location_HillsideWithBase]
gfx=../resources/gfx/terraforming_ch2/site_hillsidebase.png
description=locationHillsideBase
script_Inside_Go=GoInsideBase
script_Up_Go=GoTransmitter

[location_InsideBase]
gfx=../resources/gfx/terraforming_ch2/site_insidebase.png
description=locationInsideBase
script_Outside_Go=GoHillsideWithBase
entrancescript=EnterBase

[location_Transmitter]
gfx=../resources/gfx/terraforming_ch2/site_transmitter.png
description=locationTransmitter
script_Down_Go=GoHillsideWithBase

## Finish setting up the transmitter.
## Bring the antenna, finish wiring. Read instructions. Wiring order slightly skewed.
[item_Antenna_inside]
name=nameAntenna
location=InsideBase
script_Take=TakeAntenna
script_Look=LookAntenna
script_Examine=ExamineAntenna

[item_Antenna_carried]
name=nameAntenna
location=_LOST
script_Look=LookAntenna
script_Examine=ExamineAntenna
script_Put=PutAntennaDown

[item_Antenna_installed]
name=nameAntenna
location=_LOST
script_Look=LookAntenna
script_Examine=ExamineAntenna

## Examining the antenna will reveal a note.

[item_Wire1]
name=nameWire1
location=_LOST
script_Use=UseWire1

[item_Wire2]
name=nameWire2
location=_LOST
script_Use=UseWire2

[item_Wire3]
name=nameWire3
location=_LOST
script_Use=UseWire3

[item_Wire4]
name=nameWire4
location=_LOST
script_Use=UseWire4

[item_Socket1]
name=nameSocket1
location=Transmitter
script_Look=LookSocket1

[item_Socket2]
name=nameSocket2
location=Transmitter
script_Look=LookSocket2

[item_Socket3]
name=nameSocket3
location=Transmitter
script_Look=LookSocket3

[item_Socket4]
name=nameSocket4
location=Transmitter
script_Look=LookSocket4

[general]
starting_location=landerseat
chapter_suffix=Chapter2
default_entry_script=DefaultEntryScriptChapter2

[in_files]
scripts=../resources/terraforminggamescripts_chapter2.script

ui_view = ../resources/general/gadventure_ui.png
title = ../resources/general/terraforming/terraformingtitle.png
sprites = ../resources/general/terraforming/terraforming_sprites.png
font = ../resources/general/gadventure_text.png


[out_files]
script_output = ../src/pregen/scripts_chapter2.asm_pregen
items_ROM_output = ../src/pregen/items_rom_chapter2.asm_pregen
items_RAM_output = ../src/pregen/items_ram_chapter2.asm_pregen
palette_output = ../src/pregen/palette_chapter2.asm_pregen
tilegfx_output = ../src/pregen/tilegfx_chapter2.asm_pregen
texts_output = ../src/pregen/texts_chapter2.asm_pregen
gfxview_output = ../src/pregen/gfxview_chapter2.asm_pregen
chapterheader_output = ../src/pregen/chapterconstants_chapter2.asm_pregen
locations_output = ../src/pregen/locations_chapter2.asm_pregen

# THESE ARE ASSUMED CONSTANT. !!! HUFFDICT WILL BE A PROBLEM.
directions_output = ../src/pregen/directions.asm_pregen
constants_output = ../src/pregen/constants.asm_pregen
commands_output = ../src/pregen/commands.asm_pregen
huffdict_output = ../src/incbins/textdictionary.huffarc

ui_view_base = ../src/incbins/gfx_ui
title_base = ../src/incbins/gfx_title
sprites =../src/incbins/gfx_sprites.bin
font=../src/incbins/gfx_chars.bin